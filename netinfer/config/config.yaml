# NetInfer Configuration File

# Input files
input:
  abundance_table: ""  # OTU/ASV abundance table
  taxonomy_table: ""          # Optional taxonomy mapping
  metadata_table: ""          # Optional sample metadata

# Infer taxonomy from abundance table feature IDs
infer_taxonomy: false

# Output directory
output_dir: "netinfer_results"

# Prefiltering thresholds
min_prevalence: 0.1  # OTUs should be present in at least 10% of samples
min_peak_abundance: 0.1  # Minimum required peak (max per-sample) abundance for a OTU (i.e. the max value in a row of the abundance table)

# Trusted methods: Edges must be present in at least one method from these trusted methods to be retained in the final aggregated table.
trusted_methods:
  - flashweave
  - flashweaveHE
  - spieceasi

# Method-specific parameters
flashweave:
  enabled: true
  pvalue_threshold: 0.001
  weight_threshold: 0.4
  heterogeneous: false  # Use normal mode
  threads: 8

flashweaveHE:
  enabled: true
  pvalue_threshold: 0.001
  weight_threshold: 0.4
  heterogeneous: true  # Use HE mode
  threads: 8

spieceasi:
  enabled: true
  weight_threshold: 0.3
  method: "mb"  # 'mb' (meinshausen-buhlmann, use mb for n>1000) or 'glasso' for fewer
  threads: 8

fastspar:
  enabled: true
  pvalue_threshold: 0.05
  correlation_threshold: 0.2
  weight_threshold_filter: 0.3
  iterations: 50
  bootstraps: 1000
  threads: 8

spearman:
  enabled: true
  fdr_threshold: 0.05
  rho_threshold: 0.7
  threads: 8

pearson:
  enabled: true
  fdr_threshold: 0.05
  rho_threshold: 0.7
  threads: 8

propr:
  enabled: true
  rho_threshold: 0.7
  threads: 8

jaccard:
  enabled: true
  weight_threshold: 0.7
  threads: 8

# Visualization parameters
visualization:
  max_edges: 10000  # Maximum edges to display in interactive view
  node_size_by: "degree"  # Options: degree, betweenness, closeness
  edge_width_by: "weight"  # Options: weight, methods_count
  color_by: "phylum"  # Taxonomic level for coloring